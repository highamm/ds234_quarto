<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DATA 234 - 8&nbsp; Coding in Base R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07-forcats.html" rel="next">
<link href="./04-tidyr.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Coding in Base <code>R</code></span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">DATA 234</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">The Core</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">STAT 234: Data Science</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with <code>R</code> and <code>R Studio</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Plotting with <code>ggplot2</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-dplyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Wrangling with <code>dplyr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-comm.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Communication with <code>Quarto</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-workflow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Workflow and Other Skills</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Data Wrangling</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-tidyr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidying with <code>tidyr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-basics.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Coding in Base <code>R</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-forcats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Factors with <code>forcats</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-ethics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Data Ethics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-import.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data Import</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-merging.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Merging with <code>dplyr</code></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Special Topics</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-lubridate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dates with <code>lubridate</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-stringr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Text Data with <code>tidytext</code> and <code>stringr</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-knn.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Predictive Modeling with knn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-connections.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Connections to STAT 113, STAT 213, and CS 140</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-sql.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Introduction to SQL with <code>dbplyr</code></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#variable-classes-in-r" id="toc-variable-classes-in-r" class="nav-link active" data-scroll-target="#variable-classes-in-r"> <span class="header-section-number">8.1</span> Variable Classes in <code>R</code></a>
  <ul class="collapse">
  <li><a href="#referencing-variables-and-using-str" id="toc-referencing-variables-and-using-str" class="nav-link" data-scroll-target="#referencing-variables-and-using-str"> <span class="header-section-number">8.1.1</span> Referencing Variables and Using <code>str()</code></a></li>
  </ul></li>
  <li><a href="#classes-in-detail" id="toc-classes-in-detail" class="nav-link" data-scroll-target="#classes-in-detail"> <span class="header-section-number">8.2</span> Classes in Detail</a>
  <ul class="collapse">
  <li><a href="#chr-and-fct-class" id="toc-chr-and-fct-class" class="nav-link" data-scroll-target="#chr-and-fct-class"> <span class="header-section-number">8.2.1</span> <code>&lt;chr&gt;</code> and <code>&lt;fct&gt;</code> Class</a></li>
  <li><a href="#date-class" id="toc-date-class" class="nav-link" data-scroll-target="#date-class"> <span class="header-section-number">8.2.2</span> <code>&lt;date&gt;</code> Class</a></li>
  <li><a href="#dbl-and-int-class" id="toc-dbl-and-int-class" class="nav-link" data-scroll-target="#dbl-and-int-class"> <span class="header-section-number">8.2.3</span> <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> Class</a></li>
  <li><a href="#lgl-class" id="toc-lgl-class" class="nav-link" data-scroll-target="#lgl-class"> <span class="header-section-number">8.2.4</span> <code>&lt;lgl&gt;</code> Class</a></li>
  <li><a href="#exercise-6-2" id="toc-exercise-6-2" class="nav-link" data-scroll-target="#exercise-6-2"> <span class="header-section-number">8.2.5</span> Exercises</a></li>
  </ul></li>
  <li><a href="#object-types-and-subsetting" id="toc-object-types-and-subsetting" class="nav-link" data-scroll-target="#object-types-and-subsetting"> <span class="header-section-number">8.3</span> Object Types and Subsetting</a>
  <ul class="collapse">
  <li><a href="#tibble-and-data.frame" id="toc-tibble-and-data.frame" class="nav-link" data-scroll-target="#tibble-and-data.frame"> <span class="header-section-number">8.3.1</span> <code>tibble</code> and <code>data.frame</code></a></li>
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors"> <span class="header-section-number">8.3.2</span> Vectors</a></li>
  <li><a href="#lists" id="toc-lists" class="nav-link" data-scroll-target="#lists"> <span class="header-section-number">8.3.3</span> Lists</a></li>
  <li><a href="#exercise-6-3" id="toc-exercise-6-3" class="nav-link" data-scroll-target="#exercise-6-3"> <span class="header-section-number">8.3.4</span> Exercises</a></li>
  </ul></li>
  <li><a href="#other-useful-base-r-functions" id="toc-other-useful-base-r-functions" class="nav-link" data-scroll-target="#other-useful-base-r-functions"> <span class="header-section-number">8.4</span> Other Useful Base <code>R</code> Functions</a>
  <ul class="collapse">
  <li><a href="#exercise-6-4" id="toc-exercise-6-4" class="nav-link" data-scroll-target="#exercise-6-4"> <span class="header-section-number">8.4.1</span> Exercises</a></li>
  </ul></li>
  <li><a href="#chapexercise-6" id="toc-chapexercise-6" class="nav-link" data-scroll-target="#chapexercise-6"> <span class="header-section-number">8.5</span> Chapter Exercises</a></li>
  <li><a href="#solutions-6" id="toc-solutions-6" class="nav-link" data-scroll-target="#solutions-6"> <span class="header-section-number">8.6</span> Exercise Solutions</a>
  <ul class="collapse">
  <li><a href="#variable-classes-s" id="toc-variable-classes-s" class="nav-link" data-scroll-target="#variable-classes-s"> <span class="header-section-number">8.6.1</span> Variable Classes S</a></li>
  <li><a href="#classes-in-detail-s" id="toc-classes-in-detail-s" class="nav-link" data-scroll-target="#classes-in-detail-s"> <span class="header-section-number">8.6.2</span> Classes in Detail S</a></li>
  <li><a href="#object-types-s" id="toc-object-types-s" class="nav-link" data-scroll-target="#object-types-s"> <span class="header-section-number">8.6.3</span> Object Types S</a></li>
  <li><a href="#chapexercise-6-S" id="toc-chapexercise-6-S" class="nav-link" data-scroll-target="#chapexercise-6-S"> <span class="header-section-number">8.6.4</span> Chapter Exercises S</a></li>
  </ul></li>
  <li><a href="#rcode-6" id="toc-rcode-6" class="nav-link" data-scroll-target="#rcode-6"> <span class="header-section-number">8.7</span> Non-Exercise <code>R</code> Code</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Coding in Base <code>R</code></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p><strong>Goals</strong>:</p>
<ul>
<li>describe common classes for variables in a data set.</li>
<li>explain why some <code>R</code> errors come about from class misspecifications.</li>
<li>use indexing to reference rows, columns, or specific observations in a <code>tibble</code> or data set.</li>
</ul>
<p><strong>Motivation</strong></p>
<p>“Base <code>R</code>” generally refers to <code>R</code> code that we can use without loading in any outside packages (so this code is <strong>not</strong> in the <code>tidyverse</code> family of packages). Why is the chapter on <code>R</code> basics not the first chapter that we discuss? There certainly are advantages of doing things that way, but there are also advantages of not starting out with something like “classes of variables in <code>R</code>.”</p>
<p>First, it’s not the most inherently interesting thing to look at. It’s a lot more fun to make plots and wrangle data. As long as someone makes sure that the variables are already of the “correct” class, then there’s no need to talk about this.</p>
<p>Second, much of what we discuss here will make more sense, having the previous four chapters under our belt. We’ll be able to see how misspecified variable classes cause issues in certain summaries and plots <em>and we already know how to make those plots and get those summaries</em>.</p>
<section id="variable-classes-in-r" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="variable-classes-in-r"><span class="header-section-number">8.1</span> Variable Classes in <code>R</code></h2>
<p><code>R</code> has a few different classes that variables take, including <code>numeric</code>, <code>factor</code>, <code>character</code> <code>Date</code>, and <code>logical</code>. Before we delve into the specifics of what these classes mean, let’s try to make some plots to illustrate why we should care about what these classes mean.</p>
<p>The <code>videogame_clean.csv</code> file contains variables on video games from 2004 - 2019, including</p>
<ul>
<li><code>game</code>, the name of the game</li>
<li><code>release_date</code>, the release date of the game</li>
<li><code>release_date2</code>, a second coding of release date</li>
<li><code>price</code>, the price in dollars,</li>
<li><code>owners</code>, the number of owners (given in a range)</li>
<li><code>median_playtime</code>, the median playtime of the game</li>
<li><code>metascore</code>, the score from the website Metacritic</li>
<li><code>price_cat</code>, 1 for Low (less than 10.00 dollars), 2 for Moderate (between 10 and 29.99 dollars), and 3 for High (30.00 or more dollars)</li>
<li><code>meta_cat</code>, Metacritic’s review system, with the following categories: “Overwhelming Dislike”, “Generally Unfavorable”, “Mixed Reviews”, “Generally Favorable”, “Universal Acclaim”.</li>
<li><code>playtime_miss</code>, whether median play time is missing (<code>TRUE</code>) or not (<code>FALSE</code>)</li>
</ul>
<p>The data set was modified from <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-07-30" target="_blank">https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-07-30</a>.</p>
<p>Run the code in the following <code>R</code> chunk to read in the data.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/videogame_clean.csv"</span>))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(videogame_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 15
  game   relea…¹ release_…² price owners media…³ metas…⁴ price…⁵ meta_…⁶ playt…⁷
  &lt;chr&gt;  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;  
1 Half-… Nov 16… 2004-11-16  9.99 10,00…      66      96       1 Univer… FALSE  
2 Count… Nov 1,… 2004-11-01  9.99 10,00…     128      88       1 Genera… FALSE  
3 Count… Mar 1,… 2004-03-01  9.99 10,00…       3      65       1 Mixed … FALSE  
4 Half-… Nov 1,… 2004-11-01  4.99 5,000…       0      NA       1 &lt;NA&gt;    TRUE   
5 Half-… Jun 1,… 2004-06-01  9.99 2,000…       0      NA       1 &lt;NA&gt;    TRUE   
6 CS2D   Dec 24… 2004-12-24 NA    1,000…      10      NA      NA &lt;NA&gt;    FALSE  
# … with 5 more variables: number &lt;dbl&gt;, developer &lt;chr&gt;, publisher &lt;chr&gt;,
#   average_playtime &lt;dbl&gt;, meta_cat_factor &lt;chr&gt;, and abbreviated variable
#   names ¹​release_date, ²​release_date2, ³​median_playtime, ⁴​metascore,
#   ⁵​price_cat, ⁶​meta_cat, ⁷​playtime_miss
# ℹ Use `colnames()` to see all variable names</code></pre>
</div>
</div>
<p>A data frame or tibble holds variables that are allowed to be different classes. If a variable is a different class than you would expect, you’ll get some strange errors or results when trying to wrangle the data or make graphics.</p>
<p>Run the following lines of code. In some cases, we are only using the first 100 observations in <code>videogame_small</code>. Otherwise, the code would take a <strong>very</strong> long time to run.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>videogame_small <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_small, <span class="fu">aes</span>(<span class="at">x =</span> release_date, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_small, <span class="fu">aes</span>(<span class="at">x =</span> release_date2, <span class="at">y =</span> metascore)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> price_cat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 43 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In the first plot, <code>release_date</code> isn’t ordered according to how you would expect (by date). Instead, <code>R</code> orders it alphabetically.</p>
<p>In the second plot, we would expect to get a plot with 3 different colours, one for each level of <code>price_cat</code>. Instead, we get a continuous colour scale, which doesn’t make sense, given that <code>price_cat</code> can only be <code>1</code>, <code>2</code>, or <code>3</code>.</p>
<p>Both plots are not rendered correctly because the variable classes are not correct in the underlying data set. Up until this point, the data that has been provided has almost always had the correct variable classes, by default, but that won’t always be the case!</p>
<p>We’ve actually seen both of these issues before as well (the Date issue in the exercise data and the continuous colour scale in the cars data), but, in both of these instances, code was provided to “fix” the problem. After this section, you’ll have the tools to fix many <code>class</code> issues on your own!</p>
<p>If you examine the output of the following line of code</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(videogame_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 15
  game   relea…¹ release_…² price owners media…³ metas…⁴ price…⁵ meta_…⁶ playt…⁷
  &lt;chr&gt;  &lt;chr&gt;   &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;  
1 Half-… Nov 16… 2004-11-16  9.99 10,00…      66      96       1 Univer… FALSE  
2 Count… Nov 1,… 2004-11-01  9.99 10,00…     128      88       1 Genera… FALSE  
3 Count… Mar 1,… 2004-03-01  9.99 10,00…       3      65       1 Mixed … FALSE  
4 Half-… Nov 1,… 2004-11-01  4.99 5,000…       0      NA       1 &lt;NA&gt;    TRUE   
5 Half-… Jun 1,… 2004-06-01  9.99 2,000…       0      NA       1 &lt;NA&gt;    TRUE   
6 CS2D   Dec 24… 2004-12-24 NA    1,000…      10      NA      NA &lt;NA&gt;    FALSE  
# … with 5 more variables: number &lt;dbl&gt;, developer &lt;chr&gt;, publisher &lt;chr&gt;,
#   average_playtime &lt;dbl&gt;, meta_cat_factor &lt;chr&gt;, and abbreviated variable
#   names ¹​release_date, ²​release_date2, ³​median_playtime, ⁴​metascore,
#   ⁵​price_cat, ⁶​meta_cat, ⁷​playtime_miss
# ℹ Use `colnames()` to see all variable names</code></pre>
</div>
</div>
<p>you’ll see that, at the very top of the output, right below the variable names, <code>R</code> provides you with the classes of variables in the <code>tibble</code>.</p>
<ul>
<li><code>&lt;chr&gt;</code> is character, used for strings or text.</li>
<li><code>&lt;fct&gt;</code> is used for variables that are factors, typically used for character variables with a finite number of possible values the variable can take on.</li>
<li><code>&lt;date&gt;</code> is used for dates.</li>
<li><code>&lt;dbl&gt;</code> stands for double and is used for the <code>numeric</code> class.</li>
<li><code>&lt;int&gt;</code> is for numbers that are all integers. In practice, there is not much difference between this class and class <code>dbl</code>.</li>
<li><code>&lt;lgl&gt;</code> is for logical, variables that are either <code>TRUE</code> or <code>FALSE</code>.</li>
</ul>
<section id="referencing-variables-and-using-str" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="referencing-variables-and-using-str"><span class="header-section-number">8.1.1</span> Referencing Variables and Using <code>str()</code></h3>
<p>We can use <code>name_of_dataset$name_of_variable</code> to look at a specific variable in a data set:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>videogame_df<span class="sc">$</span>game</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>prints the first thousand entries of the variable <code>game</code>. There are a few ways to get the <code>class</code> of this variable: the way that we will use most often is with <code>str()</code>, which stands for “structure”, and gives the class of the variable, the number of observations (26688), as well as the first couple of observations:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>game)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:26688] "Half-Life 2" "Counter-Strike: Source" ...</code></pre>
</div>
</div>
<p>You can also get a variable’s class more directly with <code>class()</code></p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(videogame_df<span class="sc">$</span>game)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
</section>
<section id="classes-in-detail" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="classes-in-detail"><span class="header-section-number">8.2</span> Classes in Detail</h2>
<p>The following gives summary information about each class of variables in <code>R</code>:</p>
<section id="chr-and-fct-class" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="chr-and-fct-class"><span class="header-section-number">8.2.1</span> <code>&lt;chr&gt;</code> and <code>&lt;fct&gt;</code> Class</h3>
<p>With the character class, <code>R</code> will give you a warning and/or a missing value if you try to perform any numerical operations:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>game)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean.default(videogame_df$game): argument is not numeric or logical:
returning NA</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">maxgame =</span> <span class="fu">max</span>(game))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  maxgame
  &lt;chr&gt;  
1 &lt;NA&gt;   </code></pre>
</div>
</div>
<p>You also can’t convert a character class to numeric. You can, however, convert a character class to a <code>&lt;fct&gt;</code> class, using <code>as.factor()</code>. The <code>&lt;fct&gt;</code> class will be useful when we discuss the <code>forcats</code> package, but isn’t particularly useful now.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(videogame_df<span class="sc">$</span>meta_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.factor</span>(videogame_df<span class="sc">$</span>meta_cat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
<p>In general, <code>as._____</code> will lets you convert between classes. Note, however, that we aren’t saving our converted variable anywhere. If we wanted the conversion to the factor to be saved in the data set, we can use <code>mutate()</code>:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">meta_cat_factor =</span> <span class="fu">as.factor</span>(meta_cat))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>meta_cat_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Factor w/ 4 levels "Generally Favorable",..: 4 1 3 NA NA NA 4 1 3 NA ...</code></pre>
</div>
</div>
<p>For most <code>R</code> functions, it won’t matter whether your variable is in class character or class factor. In general, though, character classes are for variables that have a ton of different levels, like the name of the videogame, whereas factors are reserved for categorical variables with a finite number of levels.</p>
</section>
<section id="date-class" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="date-class"><span class="header-section-number">8.2.2</span> <code>&lt;date&gt;</code> Class</h3>
<p>The <code>&lt;date&gt;</code> class is used for dates, and the <code>&lt;datetime&gt;</code> class is used for Dates with times. <code>R</code> requires a very specific format for dates and times. Note that, while to the human eye, both of the following variables contain dates, only one is of class <code>&lt;date&gt;</code>:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>release_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:26688] "Nov 16, 2004" "Nov 1, 2004" "Mar 1, 2004" "Nov 1, 2004" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>release_date2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Date[1:26688], format: "2004-11-16" "2004-11-01" "2004-03-01" "2004-11-01" "2004-06-01" ...</code></pre>
</div>
</div>
<p><code>release_date</code> is class character, which is why we had the issue with the odd ordering of the dates earlier. You can try converting it using <code>as.Date</code>, but this function doesn’t always work:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(videogame_df<span class="sc">$</span>release_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in charToDate(x): character string is not in a standard unambiguous format</code></pre>
</div>
</div>
<p>Dates and times can be pretty complicated. In fact, we will spend an entire week covering them using the <code>lubridate</code> package.</p>
<p>On variables that are in <code>Date</code> format, like <code>release_date2</code>, we can use numerical operations:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(videogame_df<span class="sc">$</span>release_date2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-06-09"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>release_date2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2016-09-15"</code></pre>
</div>
</div>
<p>What do you think taking the median or taking the mean of a date class means?</p>
</section>
<section id="dbl-and-int-class" class="level3" data-number="8.2.3">
<h3 data-number="8.2.3" class="anchored" data-anchor-id="dbl-and-int-class"><span class="header-section-number">8.2.3</span> <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> Class</h3>
<p>Class <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> are probably the most self-explanatory classes. <code>&lt;dbl&gt;</code>, the <code>numeric</code> class, are just variables that have only numbers in them while <code>&lt;int&gt;</code> only have integers (…, -2, -1, 0, 1, 2, ….). You can do numerical operations on either of these classes (and we’ve been doing them throughout the semester). For our purposes, these two classes are interchangeable.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>price)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:26688] 9.99 9.99 9.99 4.99 9.99 ...</code></pre>
</div>
</div>
<p>Problems arise when numeric variables are coded as something non-numeric, or when non-numeric variables are coded as numeric. For example, examine:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>price_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:26688] 1 1 1 1 1 NA 2 1 1 1 ...</code></pre>
</div>
</div>
<p><code>price_cat</code> is categorical but is coded as <code>1</code> for cheap games, <code>2</code> for moderately priced games, and <code>3</code> for expensive games. Therefore, <code>R</code> thinks that the variable is numeric, when, it’s actually a factor.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">as.factor</span>(videogame_df<span class="sc">$</span>price_cat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Factor w/ 3 levels "1","2","3": 1 1 1 1 1 NA 2 1 1 1 ...</code></pre>
</div>
</div>
<p>This is the cause of the odd colour scale that we encountered earlier and can be fixed by converting <code>price_cat</code> to a factor:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_factor =</span> <span class="fu">as.factor</span>(price_cat)) </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_df, <span class="fu">aes</span>(<span class="at">x =</span> release_date2, <span class="at">y =</span> metascore)) <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> price_factor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 23838 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="lgl-class" class="level3" data-number="8.2.4">
<h3 data-number="8.2.4" class="anchored" data-anchor-id="lgl-class"><span class="header-section-number">8.2.4</span> <code>&lt;lgl&gt;</code> Class</h3>
<p>Finally, there is a class of variables called logical. These variables can only take 2 values: <code>TRUE</code> or <code>FALSE</code>. For example, <code>playtime_miss</code>, a variable for whether or not the <code>median_playtime</code> variable is missing or not, is logical:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>playtime_miss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> logi [1:26688] FALSE FALSE FALSE TRUE TRUE FALSE ...</code></pre>
</div>
</div>
<p>It’s a little strange at first, but <code>R</code> can perform numeric operations on logical classes. All <code>R</code> does is treat every <code>TRUE</code> as a <code>1</code> and every <code>FALSE</code> as a <code>0</code>. Therefore, <code>sum()</code> gives the total number of <code>TRUE</code>s and <code>mean()</code> gives the proportion of <code>TRUE</code>s. So, we can find the number and proportion of games that are missing their <code>median_playtime</code> as:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(videogame_df<span class="sc">$</span>playtime_miss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25837</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>playtime_miss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.968113</code></pre>
</div>
</div>
<p>There’s a lot of games that are missing this information!</p>
<p>We’ve actually used the ideas of logical variables for quite some time now, particularly in statements involving <code>if_else()</code>, <code>case_when()</code>, <code>filter()</code>, and <code>mutate()</code>.</p>
<p>The primary purpose of this section is to be able to identify variable classes and be able to convert between the different variable types with <code>mutate()</code> to “fix” variables with the incorrect class.</p>
</section>
<section id="exercise-6-2" class="level3" data-number="8.2.5">
<h3 data-number="8.2.5" class="anchored" data-anchor-id="exercise-6-2"><span class="header-section-number">8.2.5</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at @ref(solutions-6).</p>
<p>We will use the fitness data set again for this set of exercises, as the data set has some of the issues with variable class that we have discussed. However, in week 1, some of the work of the work to fix those issues was already done before you saw the data. Now, you’ll get to fix a couple of those issues! Read in the data set with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>fitness_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/higham_fitness_notclean.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>* What is the issue with the following plot? After you figure out the issue, use <code>mutate()</code> to create a new variable that fixes the issue and then reconstruct the graph.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness_df, <span class="fu">aes</span>(<span class="at">x =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="fu">aes</span>(<span class="at">group =</span> weekday, <span class="at">colour =</span> weekday))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="2" type="1">
<li><p>* What is another variable in the data set that has an incorrect <code>class</code>?</p></li>
<li><p>Create a new variable, called <code>step_goal</code> that is <code>1</code> or <code>TRUE</code> if at least 10000 steps were walked and <code>0</code> or <code>FALSE</code> if fewer than 10000 steps were walked. Using this variable, find the total number of days where the goal was met and the proportion of the days where the goal was met.</p></li>
</ol>
</section>
</section>
<section id="object-types-and-subsetting" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="object-types-and-subsetting"><span class="header-section-number">8.3</span> Object Types and Subsetting</h2>
<p>Variables of these different classes can be stored in a variety of different objects in <code>R</code>. We have almost exclusively used the <code>tibble</code> object type. The tidy <code>tibble</code></p>
<ul>
<li>is “rectangular” and has a specific number of rows and columns.</li>
<li>has columns that are variables</li>
<li>each column must have elements that are of the same class, but different columns can be of different classes. This allows us to have character and numeric variables in the same <code>tibble</code>.</li>
</ul>
<section id="tibble-and-data.frame" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="tibble-and-data.frame"><span class="header-section-number">8.3.1</span> <code>tibble</code> and <code>data.frame</code></h3>
<p>The <code>tibble</code> object is very similar to the <code>data.frame</code> object. You can also check what type of object you’re working with using the <code>str()</code> command:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df) <span class="do">## look at the beginning to see "tibble"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will have a small section on <code>tibble</code>s in the coming weeks so we won’t focus on them here. But, we should take note that, to reference a specific element in a <code>tibble</code>, called <em>indexing</em>, you can use <code>[# , #]</code>. So, for example, <code>videogame_df[5, 3]</code> grabs the value in the fifth row and the third column:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">5</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  release_date2
  &lt;date&gt;       
1 2004-06-01   </code></pre>
</div>
</div>
<p>More often, we’d want to grab an entire row (or range of rows) or an entire column. We can do this by leaving the row number blank (to grab the entire column) or by leaving the column number blank (to grab the entire row):</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="dv">3</span>] <span class="do">## grab the third column</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">5</span>, ] <span class="do">## grab the fifth row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also grab a range of columns or rows using the <code>:</code> operator:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">:</span><span class="dv">7</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>] <span class="do">## grab columns 3 through 7</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>, ] <span class="do">## grab rows 3 through 7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or we can grab different columns or rows using <code>c()</code>:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)] <span class="do">## grab columns 1, 3, and 4</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>), ] <span class="do">## grab rows 1, 3, and 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To get rid of an entire row or column, use <code>-</code>: <code>videogame_df[ ,-c(1, 2)]</code> drops the first and second columns while <code>videogame_df[-c(1, 2), ]</code> drops the first and second rows.</p>
</section>
<section id="vectors" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="vectors"><span class="header-section-number">8.3.2</span> Vectors</h3>
<p>A vector is an object that holds “things”, or elements, of the same class. You can create a vector in <code>R</code> using the <code>c()</code> function, which stands for “concatenate”. We’ve used the <code>c()</code> function before to bind things together; we just hadn’t yet discussed it in the context of creating a vector.</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"b"</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vec1); <span class="fu">str</span>(vec2); <span class="fu">str</span>(vec3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:3] 1 3 2</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:3] "b" "1" "2"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> logi [1:3] FALSE FALSE TRUE</code></pre>
</div>
</div>
<p>Notice that <code>vec2</code> is a character class. <code>R</code> requires all elements in a vector to be of one class; since <code>R</code> knows <code>b</code> can’t be numeric, it makes all of the numbers characters as well.</p>
<p>Using the <code>dataset$variable</code> draws out a vector from a <code>tibble</code> or <code>data.frame</code>:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>videogame_df<span class="sc">$</span>metascore</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you wanted to make the above vector “by hand”, you’d need to have a lot of patience: <code>c(96, 88, 65, NA, NA, NA, 93, .........)</code></p>
<p>Just like tibbles, you can save vectors as something for later use:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>metavec <span class="ot">&lt;-</span> videogame_df<span class="sc">$</span>metascore</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(metavec, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 71.89544</code></pre>
</div>
</div>
<p>How would you get the mean <code>metascore</code> using <code>dplyr</code> functions?</p>
<p>Vectors are one-dimensional: if we want to grab the 100th element of a vector we just use <code>name_of_vector[100]</code>:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>metavec[<span class="dv">100</span>] <span class="do">## 100th element is missing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Be aware that, if you’re coming from a math perspective, a “vector” in <code>R</code> doesn’t correspond to a “vector” in mathematics or physics.</p>
</section>
<section id="lists" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="lists"><span class="header-section-number">8.3.3</span> Lists</h3>
<p>Lists are one of the more flexible objects in <code>R</code>: you can put objects of different classes in the same list and lists aren’t required to be rectangular (like <code>tibbles</code> are). Lists are <strong>extremely</strong> useful because of this flexibility, but, we won’t use them much in this class. Therefore, we will just see an example of a list before moving on:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>testlist <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span>, <span class="dv">4</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">6</span>),</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)))</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>testlist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a"

[[2]]
[1] 4

[[3]]
[1] 1 4 2 6

[[4]]
# A tibble: 2 × 2
      x     y
  &lt;dbl&gt; &lt;dbl&gt;
1     1     3
2     2     2</code></pre>
</div>
</div>
<p><code>testlist</code> has four elements: a single character <code>"a"</code>, a single number <code>4</code>, a vector of <code>1, 4, 2, 6</code>, and a <code>tibble</code> with a couple of variables. Lists can therefore be used to store complex information that wouldn’t be as easily stored in a <code>vector</code> or <code>tibble</code>.</p>
</section>
<section id="exercise-6-3" class="level3" data-number="8.3.4">
<h3 data-number="8.3.4" class="anchored" data-anchor-id="exercise-6-3"><span class="header-section-number">8.3.4</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at @ref(solutions-6).</p>
<ol type="1">
<li><p>* Look at the subsetting commands with <code>[ , ]</code>. What <code>dplyr</code> functions can you use to do the same thing?</p></li>
<li><p>Create a <code>tibble</code> called <code>last100</code> that only has the last 100 days in the data set using both (1) indexing with <code>[ , ]</code> and (2) a <code>dplyr</code> function.</p></li>
<li><p>Create a tibble that doesn’t have the <code>flights</code> variable using both (1) indexing with <code>[ , ]</code> and (2) a <code>dplyr</code> function.</p></li>
<li><p>* Use the following steps to create a new variable <code>weekend_ind</code>, which will be “weekend” if the day of the week is Saturday or Sunday and “weekday” if the day of the week is any other day. The current <code>weekday</code> variable is coded so that <code>1</code> represents Sunday, <code>2</code> represents Monday, …., and <code>7</code> represents Saturday.</p></li>
</ol>
<ol type="a">
<li><p>Create a vector that has the numbers corresponding to the two weekend days. Name the vector and then create a second vector that has the numbers corresponding to the five weekday days.</p></li>
<li><p>Use <code>dplyr</code> functions and the <code>%in%</code> operator to create the new <code>weekend_ind</code> variable. You can use the following code chunk to help with what <code>%in%</code> does:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="other-useful-base-r-functions" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="other-useful-base-r-functions"><span class="header-section-number">8.4</span> Other Useful Base <code>R</code> Functions</h2>
<p>In addition to functions like <code>%in%</code> in the previous exercise, there are many other useful base <code>R</code> functions. The following give some of the functions that I think are most useful for data science.</p>
<p><strong>Generating Data</strong>: <code>rnorm()</code>, <code>sample()</code>, and <code>set.seed()</code></p>
<p><code>rnorm()</code> can be used to generate a certain number of normal random variables with a given mean and standard deviation. It has three arguments: the sample size, the mean, and the standard deviation.</p>
<p><code>sample()</code> can be used to obtain a sample from a vector, either with or without replacement: it has two required arguments: the vector that we want to sample from and <code>size</code>, the size of the sample.</p>
<p><code>set.seed()</code> can be used to fix <code>R</code>’s random seed. This can be set so that, for example, each person in our class can get the same random sample as long we all set the same seed.</p>
<p>These can be combined to quickly generate toy data. For example, below we are generating two quantitative variables (that are normally distributed) and two categorical variables:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">15125141</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>toy_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">xvar =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yvar =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">10</span>),</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">group1 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">size =</span> <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">group2 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Place1"</span>, <span class="st">"Place2"</span>, <span class="st">"Place3"</span>), <span class="at">size =</span> <span class="dv">100</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>toy_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
     xvar   yvar group1 group2
    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; 
 1  0.516 -13.5  B      Place2
 2 -0.891 -13.3  A      Place2
 3  5.58  -14.3  B      Place2
 4  2.42   -4.91 C      Place1
 5  1.43   -5.86 B      Place2
 6  6.61   12.7  B      Place2
 7 -2.04   -9.28 A      Place1
 8  7.56    1.89 A      Place3
 9 -0.425 -30.1  C      Place1
10  4.14    2.65 C      Place2
# … with 90 more rows
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<p><strong>Tables</strong>: We can use the <code>table()</code> function with the <code>$</code> operator to quickly generate tables of categorical variables:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 A  B  C 
27 39 34 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1, toy_df<span class="sc">$</span>group2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Place1 Place2 Place3
  A     10      8      9
  B      9     20     10
  C     10     10     14</code></pre>
</div>
</div>
<p><strong>Others</strong>: There are quite a few other useful base <code>R</code> functions. <code>nrow()</code> can be used on a data frame to quickly look at the number of rows of the data frame and <code>summary()</code> can be used to get a quick summary of a vector:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(toy_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(toy_df<span class="sc">$</span>yvar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-30.123 -12.938  -5.380  -6.630  -1.298  13.858 </code></pre>
</div>
</div>
<p>There are also some useful functions for viewing a data frame. <code>View()</code> function can be used in your console window on a data frame: <code>View(toy_df)</code> to pull up a spreadsheet-like view of the data set in a different window within <code>R Studio</code>.</p>
<p>Options to <code>print()</code> allow us to view more rows or more columns in the console printout:</p>
<div class="cell" data-appendix="true">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>toy_df <span class="sc">|&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">60</span>) <span class="do">## print out 60 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
     xvar    yvar group1 group2
    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; 
 1  0.516 -13.5   B      Place2
 2 -0.891 -13.3   A      Place2
 3  5.58  -14.3   B      Place2
 4  2.42   -4.91  C      Place1
 5  1.43   -5.86  B      Place2
 6  6.61   12.7   B      Place2
 7 -2.04   -9.28  A      Place1
 8  7.56    1.89  A      Place3
 9 -0.425 -30.1   C      Place1
10  4.14    2.65  C      Place2
11  5.03   -8.82  C      Place1
12  2.98  -22.7   C      Place1
13  5.97   -2.67  B      Place3
14  0.882   1.59  A      Place1
15  2.14   -5.63  B      Place3
16  7.74    5.79  C      Place3
17  5.20   -3.17  B      Place2
18  2.89   -0.697 A      Place1
19  2.71    1.09  B      Place2
20  5.87   -4.87  C      Place1
21  5.65  -10.3   B      Place2
22 -0.520  -4.77  B      Place3
23 -0.130 -18.3   B      Place3
24 -0.174 -18.9   A      Place3
25  4.33    4.63  A      Place3
26  0.462 -12.8   A      Place3
27  5.53   -3.36  C      Place1
28  1.66   -5.34  A      Place1
29 -0.469 -13.2   C      Place2
30  7.51  -13.4   B      Place1
31 -1.82   -6.47  C      Place3
32 -2.44   -2.17  C      Place3
33  1.52  -12.6   C      Place2
34  4.60   -6.69  A      Place2
35  3.10  -25.5   A      Place2
36 -0.682 -20.4   A      Place1
37 -5.72    2.65  B      Place3
38  0.976 -12.1   B      Place3
39  1.39    2.78  B      Place2
40  6.67  -14.6   A      Place1
41  3.09  -10.4   B      Place2
42 -1.98  -12.8   A      Place3
43  0.225  13.9   C      Place1
44  5.71   -3.50  A      Place3
45  5.57   -2.02  B      Place3
46  8.96   -1.86  B      Place2
47  3.80  -11.3   C      Place1
48  7.40   -1.32  C      Place2
49  0.988   4.04  B      Place2
50  1.93   -5.24  A      Place2
51  5.23   13.2   C      Place2
52 -2.13  -19.6   A      Place2
53  6.05   -4.42  A      Place3
54  0.865  -9.47  A      Place1
55  4.16  -16.4   B      Place1
56 -2.73   -4.09  B      Place2
57 -0.532   7.70  C      Place3
58 -2.96  -11.6   C      Place3
59  4.34   -5.99  B      Place2
60  6.72  -13.6   B      Place2
# … with 40 more rows
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>toy_df <span class="sc">|&gt;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">width =</span> <span class="cn">Inf</span>) <span class="do">## print out all of the columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
     xvar   yvar group1 group2
    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; 
 1  0.516 -13.5  B      Place2
 2 -0.891 -13.3  A      Place2
 3  5.58  -14.3  B      Place2
 4  2.42   -4.91 C      Place1
 5  1.43   -5.86 B      Place2
 6  6.61   12.7  B      Place2
 7 -2.04   -9.28 A      Place1
 8  7.56    1.89 A      Place3
 9 -0.425 -30.1  C      Place1
10  4.14    2.65 C      Place2
# … with 90 more rows
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<p>We will stop here, but will surely encounter more base <code>R</code> functions as we run into different types of problems.</p>
<section id="exercise-6-4" class="level3" data-number="8.4.1">
<h3 data-number="8.4.1" class="anchored" data-anchor-id="exercise-6-4"><span class="header-section-number">8.4.1</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at @ref(solutions-6).</p>
<ol type="1">
<li>Use <code>dplyr</code> and <code>tidyr</code> functions to re-create the tables generated from</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 A  B  C 
27 39 34 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1, toy_df<span class="sc">$</span>group2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
    Place1 Place2 Place3
  A     10      8      9
  B      9     20     10
  C     10     10     14</code></pre>
</div>
</div>
</section>
</section>
<section id="chapexercise-6" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="chapexercise-6"><span class="header-section-number">8.5</span> Chapter Exercises</h2>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at @ref(solutions-6).</p>
<p>Work through the following exercises pertaining to the video game data set.</p>
<ol type="1">
<li>* Read in the data set and use <code>filter()</code> to remove any rows with missing metascores, missing median playtime, or have a median playtime of 0 hours.</li>
</ol>
<p><strong>Note</strong>: We usually don’t want to remove missing values without a valid reason. In this case, a missing metascore means that the game wasn’t “major” enough to get enough critic reviews, and a missing or 0 hour median playtime means that there weren’t enough users who uploaded their playtime to the database. Therefore, any further analyses are constructed to games that are popular enough to both get enough reviews on metacritic and have enough users upload their median playtimes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/videogame_clean.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><p>* Make a scatterplot with <code>median_playtime</code> on the y-axis and <code>metascore</code> on the x-axis with the filtered data set.</p></li>
<li><p>* Something you may notice is that many of the points directly overlap one another. This is common when at least one of the variables on a scatterplot is <em>discrete</em>: <code>metascore</code> can only take on integer values in this case. Change <code>geom_point()</code> in your previous plot to <code>geom_jitter()</code>. Then, use the help to write a sentence about what <code>geom_jitter()</code> does.</p></li>
<li><p>* Another option is to control point transparency with <code>alpha</code>. In your <code>geom_jitter()</code> statement, change <code>alpha</code> so that you can still see all of the points, but so that you can tell in the plot where a lot of points are overlapping.</p></li>
<li><p>* Label the points that have median playtimes above 1500 hours. You may want to use the <code>ggrepel</code> package so that the labels don’t overlap.</p></li>
<li><p>Choose one of the games that got labeled and Google that game’s median, or possibly average, play time. Is it in the vicinity as the <code>median_playtime</code> recorded in our data set?</p></li>
</ol>
<div class="cell">

</div>
<ol start="7" type="1">
<li>What should be done about the outliers? We will discuss and investigate this issue as a class.</li>
</ol>
<div class="cell">

</div>
</section>
<section id="solutions-6" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="solutions-6"><span class="header-section-number">8.6</span> Exercise Solutions</h2>
<section id="variable-classes-s" class="level3" data-number="8.6.1">
<h3 data-number="8.6.1" class="anchored" data-anchor-id="variable-classes-s"><span class="header-section-number">8.6.1</span> Variable Classes S</h3>
</section>
<section id="classes-in-detail-s" class="level3" data-number="8.6.2">
<h3 data-number="8.6.2" class="anchored" data-anchor-id="classes-in-detail-s"><span class="header-section-number">8.6.2</span> Classes in Detail S</h3>
<ol type="1">
<li>* What is the issue with the following plot? After you figure out the issue, use <code>mutate()</code> to create a new variable that fixes the issue and then reconstruct the graph.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness_df, <span class="fu">aes</span>(<span class="at">x =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="fu">aes</span>(<span class="at">group =</span> weekday, <span class="at">colour =</span> weekday))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The issue is that weekday should be a factor, not numeric.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>fitness_df <span class="ot">&lt;-</span> fitness_df <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">weekday_cat =</span> <span class="fu">as.factor</span>(weekday))</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness_df, <span class="fu">aes</span>(<span class="at">x =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="fu">aes</span>(<span class="at">group =</span> weekday_cat, <span class="at">colour =</span> weekday_cat)) <span class="sc">+</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="2" type="1">
<li>* What is another variable in the data set that has an incorrect <code>class</code>?</li>
</ol>
<p>Month should be an ordered factor, not numeric.</p>
</section>
<section id="object-types-s" class="level3" data-number="8.6.3">
<h3 data-number="8.6.3" class="anchored" data-anchor-id="object-types-s"><span class="header-section-number">8.6.3</span> Object Types S</h3>
<ol type="1">
<li>* Look at the subsetting commands with <code>[ , ]</code>. What <code>dplyr</code> functions can you use to do the same thing?</li>
</ol>
<p><code>slice()</code> can be used for the row indexing while <code>select()</code> can be used for the column indexing.</p>
<ol start="4" type="1">
<li>* Use the following steps to create a new variable <code>weekend_ind</code>, which will be “weekend” if the day of the week is Saturday or Sunday and “weekday” if the day of the week is any other day. The current <code>weekday</code> variable is coded so that <code>1</code> represents Sunday, <code>2</code> represents Monday, …., and <code>7</code> represents Saturday.</li>
</ol>
<ol type="a">
<li>Create a vector that has the numbers corresponding to the two weekend days. Name the vector and then create a second vector that has the numbers corresponding to the five weekday days.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>vecweekend <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>vecweekday <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">6</span> <span class="do">## or c(2, 3, 4, 5, 6)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="a">
<li>Use <code>dplyr</code> functions and the <code>%in%</code> operator to create the new <code>weekend_ind</code> variable. You can use the following code chunk to help with what <code>%in%</code> does:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>fitness_df <span class="sc">|&gt;</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weekend_ind =</span> <span class="fu">case_when</span>(weekday <span class="sc">%in%</span> vecweekend <span class="sc">~</span> <span class="st">"weekend"</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>                                 weekday <span class="sc">%in%</span> vecweekday <span class="sc">~</span> <span class="st">"weekday"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(weekend_ind, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 993 × 11
   weekend_ind Start      active_…¹ dista…² flights  steps month weekday dayof…³
   &lt;chr&gt;       &lt;date&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 weekday     2018-11-28      57.8   0.930       0  1885.    11       4     332
 2 weekday     2018-11-29     509.    4.64       18  8953.    11       5     333
 3 weekday     2018-11-30     599.    6.05       12 11665     11       6     334
 4 weekend     2018-12-01     661.    6.80        6 12117     12       7     335
 5 weekend     2018-12-02     527.    4.61        1  8925.    12       1     336
 6 weekday     2018-12-03     550.    3.96        2  7205     12       2     337
 7 weekday     2018-12-04     670.    6.60        5 12483.    12       3     338
 8 weekday     2018-12-05     557.    4.91        6  9258.    12       4     339
 9 weekday     2018-12-06     997.    7.50       13 14208     12       5     340
10 weekday     2018-12-07     533.    4.27        8  8269.    12       6     341
# … with 983 more rows, 2 more variables: stepgoal &lt;dbl&gt;, weekday_cat &lt;fct&gt;,
#   and abbreviated variable names ¹​active_cals, ²​distance, ³​dayofyear
# ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="do">## can also use if_else, which is actually a little simpler in this case:</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>fitness_df <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">weekend_ind =</span> <span class="fu">if_else</span>(weekday <span class="sc">%in%</span> vecweekend,</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">true =</span> <span class="st">"weekend"</span>, <span class="at">false =</span> <span class="st">"weekday"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(weekend_ind, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 993 × 11
   weekend_ind Start      active_…¹ dista…² flights  steps month weekday dayof…³
   &lt;chr&gt;       &lt;date&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 weekday     2018-11-28      57.8   0.930       0  1885.    11       4     332
 2 weekday     2018-11-29     509.    4.64       18  8953.    11       5     333
 3 weekday     2018-11-30     599.    6.05       12 11665     11       6     334
 4 weekend     2018-12-01     661.    6.80        6 12117     12       7     335
 5 weekend     2018-12-02     527.    4.61        1  8925.    12       1     336
 6 weekday     2018-12-03     550.    3.96        2  7205     12       2     337
 7 weekday     2018-12-04     670.    6.60        5 12483.    12       3     338
 8 weekday     2018-12-05     557.    4.91        6  9258.    12       4     339
 9 weekday     2018-12-06     997.    7.50       13 14208     12       5     340
10 weekday     2018-12-07     533.    4.27        8  8269.    12       6     341
# … with 983 more rows, 2 more variables: stepgoal &lt;dbl&gt;, weekday_cat &lt;fct&gt;,
#   and abbreviated variable names ¹​active_cals, ²​distance, ³​dayofyear
# ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</code></pre>
</div>
</div>
</section>
<section id="chapexercise-6-S" class="level3" data-number="8.6.4">
<h3 data-number="8.6.4" class="anchored" data-anchor-id="chapexercise-6-S"><span class="header-section-number">8.6.4</span> Chapter Exercises S</h3>
<ol type="1">
<li>* Read in the data set and use <code>filter()</code> to remove any rows with missing metascores, missing median playtime, or have a median playtime of 0 hours.</li>
</ol>
<p><strong>Note</strong>: We usually don’t want to remove missing values without a valid reason. In this case, a missing metascore means that the game wasn’t “major” enough to get enough critic reviews, and a missing or 0 hour median playtime means that there weren’t enough users who uploaded their playtime to the database. Therefore, any further analyses are constructed to games that are popular enough to both get enough reviews on metacritic and have enough users upload their median playtimes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/videogame_clean.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>videogame_nomiss <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(median_playtime) <span class="sc">&amp;</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>           <span class="sc">!</span><span class="fu">is.na</span>(metascore) <span class="sc">&amp;</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>           median_playtime <span class="sc">!=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>* Make a scatterplot with <code>median_playtime</code> on the y-axis and <code>metascore</code> on the x-axis with the filtered data set.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_nomiss, <span class="fu">aes</span>(<span class="at">x =</span> metascore,</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">y =</span> median_playtime)) <span class="sc">+</span> </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="3" type="1">
<li>* Something you may notice is that many of the points directly overlap one another. This is common when at least one of the variables on a scatterplot is <em>discrete</em>: <code>metascore</code> can only take on integer values in this case. Change <code>geom_point()</code> in your previous plot to <code>geom_jitter()</code>. Then, use the help to write a sentence about what <code>geom_jitter()</code> does.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_nomiss, <span class="fu">aes</span>(<span class="at">x =</span> metascore,</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">y =</span> median_playtime)) <span class="sc">+</span> </span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><code>geom_jitter()</code> adds a small amount of “noise” to each data point so that points don’t overlap quite as much.</p>
<ol start="4" type="1">
<li>* Another option is to control point transparency with <code>alpha</code>. In your <code>geom_jitter()</code> statement, change <code>alpha</code> so that you can still see all of the points, but so that you can tell in the plot where a lot of points are overlapping.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_nomiss, <span class="fu">aes</span>(<span class="at">x =</span> metascore,</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">y =</span> median_playtime)) <span class="sc">+</span> </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="do">## can see a lot of ponits have median playtimes close to 0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>* Label the points that have median playtimes above 1500 hours. You may want to use the <code>ggrepel</code> package so that the labels don’t overlap.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>videogame_long <span class="ot">&lt;-</span> videogame_nomiss <span class="sc">|&gt;</span> <span class="fu">filter</span>(median_playtime <span class="sc">&gt;</span> <span class="dv">1500</span>)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_nomiss,</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> metascore, <span class="at">y =</span> median_playtime)) <span class="sc">+</span> </span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> videogame_long, <span class="fu">aes</span>(<span class="at">label =</span> game))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="06-basics_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="rcode-6" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="rcode-6"><span class="header-section-number">8.7</span> Non-Exercise <code>R</code> Code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data/videogame_clean.csv"</span>))</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(videogame_df)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>videogame_small <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_small, <span class="fu">aes</span>(<span class="at">x =</span> release_date, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_small, <span class="fu">aes</span>(<span class="at">x =</span> release_date2, <span class="at">y =</span> metascore)) <span class="sc">+</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> price_cat))</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(videogame_df)</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>videogame_df<span class="sc">$</span>game</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>game)</span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(videogame_df<span class="sc">$</span>game)</span>
<span id="cb111-15"><a href="#cb111-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>game)</span>
<span id="cb111-16"><a href="#cb111-16" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">maxgame =</span> <span class="fu">max</span>(game))</span>
<span id="cb111-17"><a href="#cb111-17" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(videogame_df<span class="sc">$</span>meta_cat)</span>
<span id="cb111-18"><a href="#cb111-18" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.factor</span>(videogame_df<span class="sc">$</span>meta_cat))</span>
<span id="cb111-19"><a href="#cb111-19" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span></span>
<span id="cb111-20"><a href="#cb111-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">meta_cat_factor =</span> <span class="fu">as.factor</span>(meta_cat))</span>
<span id="cb111-21"><a href="#cb111-21" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>meta_cat_factor)</span>
<span id="cb111-22"><a href="#cb111-22" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>release_date)</span>
<span id="cb111-23"><a href="#cb111-23" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>release_date2)</span>
<span id="cb111-24"><a href="#cb111-24" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(videogame_df<span class="sc">$</span>release_date2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb111-25"><a href="#cb111-25" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>release_date2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb111-26"><a href="#cb111-26" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>price)</span>
<span id="cb111-27"><a href="#cb111-27" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>price_cat)</span>
<span id="cb111-28"><a href="#cb111-28" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">as.factor</span>(videogame_df<span class="sc">$</span>price_cat))</span>
<span id="cb111-29"><a href="#cb111-29" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> videogame_df <span class="sc">|&gt;</span></span>
<span id="cb111-30"><a href="#cb111-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_factor =</span> <span class="fu">as.factor</span>(price_cat)) </span>
<span id="cb111-31"><a href="#cb111-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_df, <span class="fu">aes</span>(<span class="at">x =</span> release_date2, <span class="at">y =</span> metascore)) <span class="sc">+</span></span>
<span id="cb111-32"><a href="#cb111-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> price_factor))</span>
<span id="cb111-33"><a href="#cb111-33" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df<span class="sc">$</span>playtime_miss)</span>
<span id="cb111-34"><a href="#cb111-34" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(videogame_df<span class="sc">$</span>playtime_miss)</span>
<span id="cb111-35"><a href="#cb111-35" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(videogame_df<span class="sc">$</span>playtime_miss)</span>
<span id="cb111-36"><a href="#cb111-36" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(videogame_df) <span class="do">## look at the beginning to see "tibble"</span></span>
<span id="cb111-37"><a href="#cb111-37" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">5</span>, <span class="dv">3</span>]</span>
<span id="cb111-38"><a href="#cb111-38" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="dv">3</span>] <span class="do">## grab the third column</span></span>
<span id="cb111-39"><a href="#cb111-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-40"><a href="#cb111-40" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">5</span>, ] <span class="do">## grab the fifth row</span></span>
<span id="cb111-41"><a href="#cb111-41" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">:</span><span class="dv">7</span></span>
<span id="cb111-42"><a href="#cb111-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-43"><a href="#cb111-43" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>] <span class="do">## grab columns 3 through 7</span></span>
<span id="cb111-44"><a href="#cb111-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-45"><a href="#cb111-45" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="dv">3</span><span class="sc">:</span><span class="dv">7</span>, ] <span class="do">## grab rows 3 through 7</span></span>
<span id="cb111-46"><a href="#cb111-46" aria-hidden="true" tabindex="-1"></a>videogame_df[ ,<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)] <span class="do">## grab columns 1, 3, and 4</span></span>
<span id="cb111-47"><a href="#cb111-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-48"><a href="#cb111-48" aria-hidden="true" tabindex="-1"></a>videogame_df[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>), ] <span class="do">## grab rows 1, 3, and 4</span></span>
<span id="cb111-49"><a href="#cb111-49" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb111-50"><a href="#cb111-50" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"b"</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb111-51"><a href="#cb111-51" aria-hidden="true" tabindex="-1"></a>vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb111-52"><a href="#cb111-52" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vec1); <span class="fu">str</span>(vec2); <span class="fu">str</span>(vec3)</span>
<span id="cb111-53"><a href="#cb111-53" aria-hidden="true" tabindex="-1"></a>videogame_df<span class="sc">$</span>metascore</span>
<span id="cb111-54"><a href="#cb111-54" aria-hidden="true" tabindex="-1"></a>metavec <span class="ot">&lt;-</span> videogame_df<span class="sc">$</span>metascore</span>
<span id="cb111-55"><a href="#cb111-55" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(metavec, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb111-56"><a href="#cb111-56" aria-hidden="true" tabindex="-1"></a>metavec[<span class="dv">100</span>] <span class="do">## 100th element is missing</span></span>
<span id="cb111-57"><a href="#cb111-57" aria-hidden="true" tabindex="-1"></a>testlist <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span>, <span class="dv">4</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">6</span>),</span>
<span id="cb111-58"><a href="#cb111-58" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)))</span>
<span id="cb111-59"><a href="#cb111-59" aria-hidden="true" tabindex="-1"></a>testlist</span>
<span id="cb111-60"><a href="#cb111-60" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">15125141</span>)</span>
<span id="cb111-61"><a href="#cb111-61" aria-hidden="true" tabindex="-1"></a>toy_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">xvar =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb111-62"><a href="#cb111-62" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yvar =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">10</span>),</span>
<span id="cb111-63"><a href="#cb111-63" aria-hidden="true" tabindex="-1"></a>                 <span class="at">group1 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">size =</span> <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb111-64"><a href="#cb111-64" aria-hidden="true" tabindex="-1"></a>                 <span class="at">group2 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Place1"</span>, <span class="st">"Place2"</span>, <span class="st">"Place3"</span>), <span class="at">size =</span> <span class="dv">100</span>,</span>
<span id="cb111-65"><a href="#cb111-65" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb111-66"><a href="#cb111-66" aria-hidden="true" tabindex="-1"></a>toy_df</span>
<span id="cb111-67"><a href="#cb111-67" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1)</span>
<span id="cb111-68"><a href="#cb111-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-69"><a href="#cb111-69" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(toy_df<span class="sc">$</span>group1, toy_df<span class="sc">$</span>group2)</span>
<span id="cb111-70"><a href="#cb111-70" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(toy_df)</span>
<span id="cb111-71"><a href="#cb111-71" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(toy_df<span class="sc">$</span>yvar)</span>
<span id="cb111-72"><a href="#cb111-72" aria-hidden="true" tabindex="-1"></a>toy_df <span class="sc">|&gt;</span></span>
<span id="cb111-73"><a href="#cb111-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">60</span>) <span class="do">## print out 60 rows</span></span>
<span id="cb111-74"><a href="#cb111-74" aria-hidden="true" tabindex="-1"></a>toy_df <span class="sc">|&gt;</span></span>
<span id="cb111-75"><a href="#cb111-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">width =</span> <span class="cn">Inf</span>) <span class="do">## print out all of the columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./04-tidyr.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidying with <code>tidyr</code></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07-forcats.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Factors with <code>forcats</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>